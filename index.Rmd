---
title: "Gov 50 Final Project"
author: "Shriya Yarlagadda"
description: "Gov 50 Final Project"
output:
  distill::distill_article:
    self_contained: false
---



## Project thoughts

Broadly, I'd like to study an internationally-focused topic. My interests are largely concentrated in two realms, which are human rights and sustainability, and I hope to study one of the two. Within human rights, I'd be interested in looking into United Nations voting patterns related to militarized conflict and their links to genocide or other human rights violations. Within sustainability, I'm interested in comparing sustainability policy across countries, perhaps related to developmental aid. I'm a bit more interested in human rights topics, but am excited to see which area I'd be able to find the most interesting data set in.

## Selecting Data
```{r Prepping for Data Loading}

# install.packages("readxl")
library("readxl")
library(tidyverse)

```

```{r Reading in Data}
svdata <- read_excel("SVAC_3.0_complete (1).xlsx", sheet = 1)
```

Data Citation: 
Cohen, Dara Kay and Ragnhild NordÃ¥s. 2014. Sexual Violence in Armed Conflict Dataset. [2022], from the Sexual Violence in Armed Conflict Dataset website: http://www.sexualviolencedata.org

Does the scale of a conflict impact the prevalence of sexual violence? Through my analysis, which uses the Sexual Violence Data Set, I hope to explore how the expansiveness of a violent conflict (that is, the breadth of the location of its actors) impacts the prevalence of acts of sexual violence as an act of war. My hypothesis is that the more expansive a conflict is (ie, if the actors are different states rather than actors within a state), the more likely it is that acts of sexual violence will be widespread. This is because I hypothesize that conflicts involving multiple states cover a wider geographical area, allowing for a higher prevalence of violent actions. My sample is recorded acts of sexual violence during armed conflict committed by armed actors between 1989 and 2019. My unit of analysis is armed conflicts between 1989 and 2019. My explanatory variable is the scale of the armed conflict during which an act of sexual violence is committed. This variable is coded 2 = Interstate Conflict, 3 = Intrastate Conflict, 4 = Internationalized Internal Armed Conflict. I intend to recode this variable so that it increases by the scale of the conflict (1 = Intrastate Conflict, 2 = Internationalized Internal Armed Conflict, 3 = Interstate conflict). My outcome variable is the expansiveness of sexual violence in an area. It is coded 0 = None, 1 = Isolated, 2 = Numerous, 3 = Massive, and -99 for no data. This variable is also disaggregated amongst three different sources and I will account for this by taking the highest number reported across the three sources (in line with the methodology of this data set's code, which codes for the higher number in this variable given conflicting information). I will see evidence that my hypothesis is correct if higher values of my explanatory variable (which suggests a wider scale of war) is associated with higher expansiveness of sexual violence (my outcome variable). If I see the opposite relationship, with higher values of conflict expansiveness being associated with lower rates of sexual violence, or, alternatively, no substantive relationship, then I will see that my hypothesis is incorrect. 

```{r Cleaning Data}
svdata <- svdata |>
  mutate(prev_agg = pmax(state_prev, ai_prev, hrw_prev, na.rm = TRUE)) |>
  filter(prev_agg != -99)

svdata <- svdata |>
  mutate(
    type_new = case_when(
      type == 3 ~ 1,
      type == 2 ~ 3,
      type == 4 ~ 2
    )
  )
  

svsubset <- svdata |>
  mutate(prev_agg = pmax(state_prev, ai_prev, hrw_prev, na.rm = TRUE)) |>
  filter(prev_agg != -99 & prev_agg != 0)



```

## Histogram of Violence - Dependent Variable

```{r}

ggplot(data = svdata, mapping = aes(x = prev_agg)) + 
  geom_histogram(binwidth = 1, color = "indianred1") + 
  labs(x = "Prevalence Rates of Sexual Violence in Armed Conflict" , y = "Count") +
  theme_bw()
```

## Scatterplots 

```{r}

sp1 <- svdata |> ##Year/Subset
  ggplot(aes (x = type_new, y = prev_agg)) +
  geom_point() +
  geom_jitter() +
  geom_smooth(method = "lm") + 
  labs(x = "Expansiveness of Conflict", y = "Prev. Sex. Violence") +
  theme_bw()

sp2 <- svsubset |> ## Expansiveness/Subset
  ggplot(aes (x = type_new, y = prev_agg)) +
  geom_point() +
  geom_jitter() +
  geom_smooth(method = "lm") + 
  labs(x = "Expansiveness of Conflict", y = "Prev. Sex. Violence (excluding 0s)") +
  theme_bw()

sp3 <- svdata |> ## Year/OG
  ggplot(aes (x = year, y = prev_agg)) +
  geom_point() +
  geom_jitter(width = 0.01) +
  geom_smooth(method = "lm") + 
  labs(x = "Year of Conflict", y = "Prev. Sex. Violence") +
  theme_bw()

sp4 <- svsubset |> ## Year/Subset
  ggplot(aes (x = year, y = prev_agg)) +
  geom_point() +
  geom_jitter(width = 0.01) +
  geom_smooth(method = "lm") + 
  labs(x = "Year of Conflict", y = "Prev. Sex. Violence") +
  theme_bw()


sp1

sp2

sp3

sp4
```

## Regression and Potential Confounders

```{r}

library(broom)
library(knitr)

reg1 <- lm(prev_agg ~ type_new, data = svdata)
reg2 <- lm(prev_agg ~ type_new, data = svsubset)

reg3 <- lm(prev_agg ~ type_new + year , data = svdata) 
reg4 <- lm(prev_agg ~ type_new + year , data = svsubset)

reg1|>
  tidy() |>
  kable(caption = "Coefficient Estimates for a Regression of Violence Rates and Conflict Expansiveness", 
        col.names = c("Predictor", "Estimate", "Std. Error", "Statistic", "P-value"),
        digits = c(0,2,3,2,3))

reg2|>
  tidy() |>
  kable(caption = "Coefficient Estimates for a Regression of Violence Rates and Conflict Expansiveness (Subset)", 
        col.names = c("Predictor", "Estimate", "Std. Error", "Statistic", "P-value"),
        digits = c(0,2,3,2,3))

reg3|>
  tidy() |>
  kable(caption = "Coefficient Estimates for a Regression of Violence Rates and Various Variables", 
        col.names = c("Predictor", "Estimate", "Std. Error", "Statistic", "P-value"),
        digits = c(0,2,3,2,3))

reg4|>
  tidy() |>
  kable(caption = "Coefficient Estimates for a Regression of Violence Rates and Various Variables (Subset)", 
        col.names = c("Predictor", "Estimate", "Std. Error", "Statistic", "P-value"),
        digits = c(0,2,3,2,3))
```

The first two regressions, which compare the full dataset (including conflicts in which sexual violence was not recorded as a form of conflict) and the subset, appear to present contradicting evidence. While the regression from the full dataset suggested that a one unit increase in the expansiveness of a conflict was associated with a 0.07 decrease in the prevalence of sexual violence, the regression from the subset suggested that a one unit increase in the expansiveness of a conflict was associated with a 0.13 increase in the prevalence of sexual violence. This appears to suggest that while, on aggregate, wider conflicts are associated with a slight decrease in sexual violence, this may be biased by wider conflicts being more likely to lack sexual violence at all. Thus, if you remove conflicts with no reports of sexual violence, there seems to be a positive relationship. However, this appears to be misleading when reviewing the scatterplots, as there are far more smaller scale conflicts than larger ones. 

Furthermore, the scatterplot of year and prevalence of sexual violence appears to show an increasing trend, especially when using the subset data. When running a regression including this variable as well (ie holding year constant), there appears to only be a 0.09 increase in the prevalence of sexual violence given a more expansive conflict. Thus, this may be a confounding variable. 
